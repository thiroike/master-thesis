%==========================================================================%
% This is wirtten by Tsubasa Hirakawa.                                     %
% This style file is for the proceeding of presentation on campus.         %
% If you want to use this style file, please use 'jsarticle' or 'jarticle' %
% class file. And also, please write following lines in preamble section:  %
%     \title{proceeding title}                                             %
%     \author{your name}                                                   %
%     \studentid{your id number}                                           %
%     \affiliation{your affiliation (department)}                          %
%     \proceedingname{name of presentation}                                %
%     \date{presentation date}                                             %
%==========================================================================%


\usepackage[dvipdfmx]{graphicx}
\usepackage[dvipdfmx]{color}
\usepackage{subfigure}
\usepackage{url}


% Default font =====================================
% \renewcommand{\kanjifamilydefault}{\rmdefault} % Japanese font
% \renewcommand{\familydefault}{\sfdefault}      % English font


% Numerical formula ================================
\usepackage{amsmath}
\usepackage{bm}


% line space =======================================
\usepackage{setspace}
\setstretch{0.95}


% column space =====================================
\setlength{\columnsep}{2zw}


% margin ===========================================
\usepackage{geometry}
\usepackage{layout}
\geometry{left=13mm,right=13mm,top=20mm,bottom=20mm}


% caption size =====================================
\usepackage{caption}
\captionsetup[figure]{format=plain, font=small}
\captionsetup[table]{format=plain, font=small}


% section ==========================================
\makeatletter
\def\section{\@startsection {section}{1}{\z@}%
{2.0ex plus 0ex minus 0ex}%
{1ex plus 0ex}%
{\large\gt}}
\makeatother


% subsection =======================================
\makeatletter
\def\subsection{\@startsection {subsection}{1}{\z@}%
{1.0ex plus -.2ex minus .2ex}%
{0.8ex plus .2ex}%
{\normalsize\gt}}
\makeatother


% maketitle layout =================================
\makeatletter
  \renewcommand{\maketitle}{\par
    \begingroup
      \renewcommand\thefootnote{\@fnsymbol\c@footnote}%
      \def\@makefnmark{\rlap{\@textsuperscript{\normalfont\@thefnmark}}}%
      \long\def\@makefntext##1{\advance\leftskip 3zw
        \parindent 1zw\noindent
        \llap{\@textsuperscript{\normalfont\@thefnmark}\hskip0.3zw}##1}%
      \if@twocolumn
        \ifnum \col@number=\@ne
          \@maketitle
        \else
          \twocolumn[\@maketitle]%
        \fi
      \else
        \newpage
        \global\@topnum\z@  % Prevents figures from going at top of page.
        \@maketitle
      \fi
    \endgroup
    \setcounter{footnote}{0}%
    \global\let\maketitle\relax
    \global\let\@author\@empty
    \global\let\@title\@empty
    \global\let\title\relax
    \global\let\author\relax
    \global\let\and\relax
	\global\let\@date\@empty
	\global\let\date\relax
	\global\let\@affiliation\@empty % add
	\global\let\affiliation\relax % add
	\global\let\studentid\@empty % add
	\global\let\studentid\relax % add
	\global\let\proceedingname\@empty % add
	\global\let\proceedingname\relax % add
  }
  \def\@maketitle{%
    \begin{center}%
    \vspace{-36pt}
      \let\footnote\thanks
    	\begin{minipage}[b]{0.5\linewidth}
			\begin{flushleft}
				\@proceedingname
			\end{flushleft}
		\end{minipage}%
		\begin{minipage}[b]{0.5\linewidth}
			\begin{flushright}
				\fbox{学外秘}\par\@date
			\end{flushright}
		\end{minipage}
      {\gt\LARGE \@title \par}%
      {\begin{flushright}
      	\normalsize
        \lineskip .5em
          \@affiliation \hspace{4truemm} \@studentid \hspace{4truemm} \@author % add
      \end{flushright}}%
    \end{center}%
    \par\vskip 1.5em
  }
\def\affiliation#1{\gdef\@affiliation{#1}} % add
\def\studentid#1{\gdef\@studentid{#1}} % add
\def\proceedingname#1{\gdef\@proceedingname{#1}} % add
\makeatother
