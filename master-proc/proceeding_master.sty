%==========================================================================%
% This is written by Tsubasa Hirakawa and processed by Jun Masaki.         %                                       %
% This style file is for the proceeding of presentation on campus.         %
% If you want to use this style file, please use 'jsarticle' or 'jarticle' %
% class file. And also, please write following lines in preamble section:  %
%   \studentid{your student ID}                                            %
%   \program{Your Program name}                                            %
%   \author{Your name}                                                     %
%   \supervisor{Your supervisor}                                           %
%   \title{Proceeding title}                                               %
%==========================================================================%


\usepackage[dvipdfmx]{graphicx}
\usepackage[dvipdfmx]{color}
\usepackage{subfigure}
\usepackage{url}


% Default font =====================================
% \renewcommand{\kanjifamilydefault}{\rmdefault} % Japanese font
% \renewcommand{\familydefault}{\sfdefault}      % English font


% Numerical formula ================================
\usepackage{amsmath}
\usepackage{bm}


% line space =======================================
\usepackage{setspace}
\setstretch{0.95}


% column space =====================================
\setlength{\columnsep}{2zw}


% margin ===========================================
\usepackage{geometry}
\usepackage{layout}
\geometry{left=20mm,right=20mm,top=20mm,bottom=20mm}


% caption size =====================================
\usepackage{caption}
\captionsetup[figure]{format=plain, font=small}
\captionsetup[table]{format=plain, font=small}


% bibliography setting =====================================
\renewenvironment{thebibliography}[1]
{\section*{\refname\@mkboth{\refname}{\refname}}%
  \list{\@biblabel{\@arabic\c@enumiv}}%
       {\settowidth\labelwidth{\@biblabel{#1}}%
        \leftmargin\labelwidth
        \advance\leftmargin\labelsep
 \setlength\itemsep{-0.2zh} % ←ここの数値を調整(行間のつまり具合)
%  \setlength\baselineskip{10pt} % ←ここの数値を調整（追加）(文字の大きさ)
        \@openbib@code
        \usecounter{enumiv}%
        \let\p@enumiv\@empty
        \renewcommand\theenumiv{\@arabic\c@enumiv}}%
  \sloppy
  \clubpenalty4000
  \@clubpenalty\clubpenalty
  \widowpenalty4000%
  \sfcode`\.\@m}
 {\def\@noitemerr
   {\@latex@warning{Empty `thebibliography' environment}}%
  \endlist}
 


% section ==========================================
\makeatletter
\def\section{\@startsection {section}{1}{\z@}%
{2.0ex plus 0ex minus 0ex}%
{1ex plus 0ex}%
{\large\gt}}
\makeatother


% subsection =======================================
\makeatletter
\def\subsection{\@startsection {subsection}{1}{\z@}%
{1.0ex plus -.2ex minus .2ex}%
{0.8ex plus .2ex}%
{\normalsize\gt}}
\makeatother

% subsubsection =======================================
\makeatletter
\def\subsubsection{\@startsection {subsubsection}{1}{\z@}%
{1.0ex plus -.2ex minus .2ex}%
{0.8ex plus .2ex}%
{\normalsize\gt}}
\makeatother


% maketitle layout =================================
\makeatletter
  \renewcommand{\maketitle}{\par
    \begingroup
      \renewcommand\thefootnote{\@fnsymbol\c@footnote}%
      \def\@makefnmark{\rlap{\@textsuperscript{\normalfont\@thefnmark}}}%
      \long\def\@makefntext##1{\advance\leftskip 3zw
        \parindent 1zw\noindent
        \llap{\@textsuperscript{\normalfont\@thefnmark}\hskip0.3zw}##1}%
      \if@twocolumn
        \ifnum \col@number=\@ne
          \@maketitle
        \else
          \twocolumn[\@maketitle]%
        \fi
      \else
        \newpage
        \global\@topnum\z@  % Prevents figures from going at top of page.
        \@maketitle
      \fi
    \endgroup
    \setcounter{footnote}{0}%
    \global\let\maketitle\relax
    \global\let\@author\@empty
    \global\let\@title\@empty
    \global\let\title\relax
    \global\let\author\relax
    \global\let\and\relax
	% \global\let\@date\@empty
	% \global\let\date\relax
	% \global\let\@affiliation\@empty % add
	% \global\let\affiliation\relax % add
	\global\let\studentid\@empty % add
	\global\let\studentid\relax % add
	% \global\let\proceedingname\@empty % add
	% \global\let\proceedingname\relax % add
  \global\let\supervisor\@empty % add
	\global\let\supervisor\relax % add
  \global\let\program\@empty % add
  \global\let\program\relax % add
  }
  \def\@maketitle{%
    \begin{center}%
      {\LARGE 修 士 論 文 要 旨 \par}%
      \vskip 1em%
      \normalsize Summary of the Master's Thesis \par%
      % 表を追加
      \vskip 2em%
      \begin{tabular}{|p{25mm}|p{50mm}|p{25mm}|p{50mm}|}
          \hline
          \centering{学 生 番 号} & \@studentid & \centering{プ ロ グ ラ ム} & \@program \\
          \centering{\scriptsize{Student ID number}} && \centering{\scriptsize{Program}} & \\
          \hline
          \centering{氏　　　名} & \@author & \centering{主 指 導 教 員} & \@supervisor \\
          \centering{\scriptsize{Name}} && \centering{\scriptsize{Supervisor}} & \\
          \hline
          \centering{論 文 題 目} & \multicolumn{3}{l|}{\@title}\\
          \centering{\scriptsize{Thesis Title}} & \multicolumn{3}{l|}{}\\
          \hline
      \end{tabular}
    \end{center}%
    \par\vskip 1.5em
  }
\def\affiliation#1{\gdef\@affiliation{#1}} % add
\def\studentid#1{\gdef\@studentid{#1}} % add
\def\proceedingname#1{\gdef\@proceedingname{#1}} % add
\def\supervisor#1{\gdef\@supervisor{#1}} % add
\def\program#1{\gdef\@program{#1}} % add
\makeatother



